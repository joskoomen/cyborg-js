!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self)["@ypa/cyborg-js"]={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r,i,o,a=function(t){return t&&t.Math==Math&&t},u=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof e&&e)||Function("return this")(),c=function(t){try{return!!t()}catch(t){return!0}},f=!c((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),l={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,h={f:s&&!l.call({1:2},1)?function(t){var e=s(this,t);return!!e&&e.enumerable}:l},v=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p={}.toString,d=function(t){return p.call(t).slice(8,-1)},g="".split,y=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==d(t)?g.call(t,""):Object(t)}:Object,b=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},m=function(t){return y(b(t))},w=function(t){return"object"==typeof t?null!==t:"function"==typeof t},x=function(t,e){if(!w(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!w(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!w(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},E={}.hasOwnProperty,S=function(t,e){return E.call(t,e)},k=u.document,O=w(k)&&w(k.createElement),j=function(t){return O?k.createElement(t):{}},I=!f&&!c((function(){return 7!=Object.defineProperty(j("div"),"a",{get:function(){return 7}}).a})),T=Object.getOwnPropertyDescriptor,A={f:f?T:function(t,e){if(t=m(t),e=x(e,!0),I)try{return T(t,e)}catch(t){}if(S(t,e))return v(!h.f.call(t,e),t[e])}},L=function(t){if(!w(t))throw TypeError(String(t)+" is not an object");return t},M=Object.defineProperty,R={f:f?M:function(t,e,n){if(L(t),e=x(e,!0),L(n),I)try{return M(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},P=f?function(t,e,n){return R.f(t,e,v(1,n))}:function(t,e,n){return t[e]=n,t},_=function(t,e){try{P(u,t,e)}catch(n){u[t]=e}return e},D=u["__core-js_shared__"]||_("__core-js_shared__",{}),C=n((function(t){(t.exports=function(t,e){return D[t]||(D[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.2",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),N=C("native-function-to-string",Function.toString),z=u.WeakMap,F="function"==typeof z&&/native code/.test(N.call(z)),W=0,G=Math.random(),U=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++W+G).toString(36)},B=C("keys"),V=function(t){return B[t]||(B[t]=U(t))},$={},q=u.WeakMap;if(F){var H=new q,Q=H.get,K=H.has,Y=H.set;r=function(t,e){return Y.call(H,t,e),e},i=function(t){return Q.call(H,t)||{}},o=function(t){return K.call(H,t)}}else{var J=V("state");$[J]=!0,r=function(t,e){return P(t,J,e),e},i=function(t){return S(t,J)?t[J]:{}},o=function(t){return S(t,J)}}var X={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!w(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Z=n((function(t){var e=X.get,n=X.enforce,r=String(N).split("toString");C("inspectSource",(function(t){return N.call(t)})),(t.exports=function(t,e,i,o){var a=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||S(i,"name")||P(i,"name",e),n(i).source=r.join("string"==typeof e?e:"")),t!==u?(a?!f&&t[e]&&(c=!0):delete t[e],c?t[e]=i:P(t,e,i)):c?t[e]=i:_(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||N.call(this)}))})),tt=u,et=function(t){return"function"==typeof t?t:void 0},nt=function(t,e){return arguments.length<2?et(tt[t])||et(u[t]):tt[t]&&tt[t][e]||u[t]&&u[t][e]},rt=Math.ceil,it=Math.floor,ot=function(t){return isNaN(t=+t)?0:(t>0?it:rt)(t)},at=Math.min,ut=function(t){return t>0?at(ot(t),9007199254740991):0},ct=Math.max,ft=Math.min,lt=function(t,e){var n=ot(t);return n<0?ct(n+e,0):ft(n,e)},st=function(t){return function(e,n,r){var i,o=m(e),a=ut(o.length),u=lt(r,a);if(t&&n!=n){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},ht={includes:st(!0),indexOf:st(!1)}.indexOf,vt=function(t,e){var n,r=m(t),i=0,o=[];for(n in r)!S($,n)&&S(r,n)&&o.push(n);for(;e.length>i;)S(r,n=e[i++])&&(~ht(o,n)||o.push(n));return o},pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],dt=pt.concat("length","prototype"),gt={f:Object.getOwnPropertyNames||function(t){return vt(t,dt)}},yt={f:Object.getOwnPropertySymbols},bt=nt("Reflect","ownKeys")||function(t){var e=gt.f(L(t)),n=yt.f;return n?e.concat(n(t)):e},mt=function(t,e){for(var n=bt(e),r=R.f,i=A.f,o=0;o<n.length;o++){var a=n[o];S(t,a)||r(t,a,i(e,a))}},wt=/#|\.prototype\./,xt=function(t,e){var n=St[Et(t)];return n==Ot||n!=kt&&("function"==typeof e?c(e):!!e)},Et=xt.normalize=function(t){return String(t).replace(wt,".").toLowerCase()},St=xt.data={},kt=xt.NATIVE="N",Ot=xt.POLYFILL="P",jt=xt,It=A.f,Tt=function(t,e){var n,r,i,o,a,c=t.target,f=t.global,l=t.stat;if(n=f?u:l?u[c]||_(c,{}):(u[c]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(a=It(n,r))&&a.value:n[r],!jt(f?r:c+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;mt(o,i)}(t.sham||i&&i.sham)&&P(o,"sham",!0),Z(n,r,o,t)}},At=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Lt=function(t,e,n){if(At(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Mt=function(t){return Object(b(t))},Rt=Array.isArray||function(t){return"Array"==d(t)},Pt=!!Object.getOwnPropertySymbols&&!c((function(){return!String(Symbol())})),_t=u.Symbol,Dt=C("wks"),Ct=function(t){return Dt[t]||(Dt[t]=Pt&&_t[t]||(Pt?_t:U)("Symbol."+t))},Nt=Ct("species"),zt=function(t,e){var n;return Rt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Rt(n.prototype)?w(n)&&null===(n=n[Nt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ft=[].push,Wt=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=5==t||o;return function(u,c,f,l){for(var s,h,v=Mt(u),p=y(v),d=Lt(c,f,3),g=ut(p.length),b=0,m=l||zt,w=e?m(u,g):n?m(u,0):void 0;g>b;b++)if((a||b in p)&&(h=d(s=p[b],b,v),t))if(e)w[b]=h;else if(h)switch(t){case 3:return!0;case 5:return s;case 6:return b;case 2:Ft.call(w,s)}else if(i)return!1;return o?-1:r||i?i:w}},Gt={forEach:Wt(0),map:Wt(1),filter:Wt(2),some:Wt(3),every:Wt(4),find:Wt(5),findIndex:Wt(6)},Ut=function(t,e){var n=[][t];return!n||!c((function(){n.call(null,e||function(){throw 1},1)}))},Bt=Gt.forEach,Vt=Ut("forEach")?function(t){return Bt(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach;Tt({target:"Array",proto:!0,forced:[].forEach!=Vt},{forEach:Vt});var $t=Object.keys||function(t){return vt(t,pt)},qt=f?Object.defineProperties:function(t,e){L(t);for(var n,r=$t(e),i=r.length,o=0;i>o;)R.f(t,n=r[o++],e[n]);return t},Ht=nt("document","documentElement"),Qt=V("IE_PROTO"),Kt=function(){},Yt=function(){var t,e=j("iframe"),n=pt.length;for(e.style.display="none",Ht.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Yt=t.F;n--;)delete Yt.prototype[pt[n]];return Yt()},Jt=Object.create||function(t,e){var n;return null!==t?(Kt.prototype=L(t),n=new Kt,Kt.prototype=null,n[Qt]=t):n=Yt(),void 0===e?n:qt(n,e)};$[Qt]=!0;var Xt=Ct("unscopables"),Zt=Array.prototype;null==Zt[Xt]&&P(Zt,Xt,Jt(null));var te,ee,ne,re=function(t){Zt[Xt][t]=!0},ie={},oe=!c((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ae=V("IE_PROTO"),ue=Object.prototype,ce=oe?Object.getPrototypeOf:function(t){return t=Mt(t),S(t,ae)?t[ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ue:null},fe=Ct("iterator"),le=!1;[].keys&&("next"in(ne=[].keys())?(ee=ce(ce(ne)))!==Object.prototype&&(te=ee):le=!0),null==te&&(te={}),S(te,fe)||P(te,fe,(function(){return this}));var se={IteratorPrototype:te,BUGGY_SAFARI_ITERATORS:le},he=R.f,ve=Ct("toStringTag"),pe=function(t,e,n){t&&!S(t=n?t:t.prototype,ve)&&he(t,ve,{configurable:!0,value:e})},de=se.IteratorPrototype,ge=function(){return this},ye=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return L(n),function(t){if(!w(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),be=se.IteratorPrototype,me=se.BUGGY_SAFARI_ITERATORS,we=Ct("iterator"),xe=function(){return this},Ee=function(t,e,n,r,i,o,a){!function(t,e,n){var r=e+" Iterator";t.prototype=Jt(de,{next:v(1,n)}),pe(t,r,!1),ie[r]=ge}(n,e,r);var u,c,f,l=function(t){if(t===i&&g)return g;if(!me&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},s=e+" Iterator",h=!1,p=t.prototype,d=p[we]||p["@@iterator"]||i&&p[i],g=!me&&d||l(i),y="Array"==e&&p.entries||d;if(y&&(u=ce(y.call(new t)),be!==Object.prototype&&u.next&&(ce(u)!==be&&(ye?ye(u,be):"function"!=typeof u[we]&&P(u,we,xe)),pe(u,s,!0))),"values"==i&&d&&"values"!==d.name&&(h=!0,g=function(){return d.call(this)}),p[we]!==g&&P(p,we,g),ie[e]=g,i)if(c={values:l("values"),keys:o?g:l("keys"),entries:l("entries")},a)for(f in c)!me&&!h&&f in p||Z(p,f,c[f]);else Tt({target:e,proto:!0,forced:me||h},c);return c},Se=X.set,ke=X.getterFor("Array Iterator"),Oe=Ee(Array,"Array",(function(t,e){Se(this,{type:"Array Iterator",target:m(t),index:0,kind:e})}),(function(){var t=ke(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");ie.Arguments=ie.Array,re("keys"),re("values"),re("entries");var je=[].join,Ie=y!=Object,Te=Ut("join",",");Tt({target:"Array",proto:!0,forced:Ie||Te},{join:function(t){return je.call(m(this),void 0===t?",":t)}});var Ae=Ct("toStringTag"),Le="Arguments"==d(function(){return arguments}()),Me=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ae))?n:Le?d(e):"Object"==(r=d(e))&&"function"==typeof e.callee?"Arguments":r},Re={};Re[Ct("toStringTag")]="z";var Pe="[object z]"!==String(Re)?function(){return"[object "+Me(this)+"]"}:Re.toString,_e=Object.prototype;Pe!==_e.toString&&Z(_e,"toString",Pe,{unsafe:!0});var De,Ce,Ne=function(){var t=L(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},ze=RegExp.prototype.exec,Fe=String.prototype.replace,We=ze,Ge=(De=/a/,Ce=/b*/g,ze.call(De,"a"),ze.call(Ce,"a"),0!==De.lastIndex||0!==Ce.lastIndex),Ue=void 0!==/()??/.exec("")[1];(Ge||Ue)&&(We=function(t){var e,n,r,i,o=this;return Ue&&(n=new RegExp("^"+o.source+"$(?!\\s)",Ne.call(o))),Ge&&(e=o.lastIndex),r=ze.call(o,t),Ge&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),Ue&&r&&r.length>1&&Fe.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var Be=We;Tt({target:"RegExp",proto:!0,forced:/./.exec!==Be},{exec:Be});var Ve=function(t){return function(e,n){var r,i,o=String(b(e)),a=ot(n),u=o.length;return a<0||a>=u?t?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===u||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},$e={codeAt:Ve(!1),charAt:Ve(!0)},qe=$e.charAt,He=X.set,Qe=X.getterFor("String Iterator");Ee(String,"String",(function(t){He(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=Qe(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=qe(n,r),e.index+=t.length,{value:t,done:!1})}));var Ke=Ct("species"),Ye=!c((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Je=!c((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),Xe=function(t,e,n,r){var i=Ct(t),o=!c((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!c((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[Ke]=function(){return n}),n[i](""),!e}));if(!o||!a||"replace"===t&&!Ye||"split"===t&&!Je){var u=/./[i],f=n(i,""[t],(function(t,e,n,r,i){return e.exec===Be?o&&!i?{done:!0,value:u.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),l=f[0],s=f[1];Z(String.prototype,t,l),Z(RegExp.prototype,i,2==e?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}),r&&P(RegExp.prototype[i],"sham",!0)}},Ze=$e.charAt,tn=function(t,e,n){return e+(n?Ze(t,e).length:1)},en=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==d(t))throw TypeError("RegExp#exec called on incompatible receiver");return Be.call(t,e)},nn=Math.max,rn=Math.min,on=Math.floor,an=/\$([$&'`]|\d\d?|<[^>]*>)/g,un=/\$([$&'`]|\d\d?)/g;Xe("replace",2,(function(t,e,n){return[function(n,r){var i=b(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,i){var o=n(e,t,this,i);if(o.done)return o.value;var a=L(t),u=String(this),c="function"==typeof i;c||(i=String(i));var f=a.global;if(f){var l=a.unicode;a.lastIndex=0}for(var s=[];;){var h=en(a,u);if(null===h)break;if(s.push(h),!f)break;""===String(h[0])&&(a.lastIndex=tn(u,ut(a.lastIndex),l))}for(var v,p="",d=0,g=0;g<s.length;g++){h=s[g];for(var y=String(h[0]),b=nn(rn(ot(h.index),u.length),0),m=[],w=1;w<h.length;w++)m.push(void 0===(v=h[w])?v:String(v));var x=h.groups;if(c){var E=[y].concat(m,b,u);void 0!==x&&E.push(x);var S=String(i.apply(void 0,E))}else S=r(y,u,b,m,x,i);b>=d&&(p+=u.slice(d,b)+S,d=b+y.length)}return p+u.slice(d)}];function r(t,n,r,i,o,a){var u=r+t.length,c=i.length,f=un;return void 0!==o&&(o=Mt(o),f=an),e.call(a,f,(function(e,a){var f;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":f=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return e;if(l>c){var s=on(l/10);return 0===s?e:s<=c?void 0===i[s-1]?a.charAt(1):i[s-1]+a.charAt(1):e}f=i[l-1]}return void 0===f?"":f}))}}));var cn=Ct("match"),fn=Ct("species"),ln=[].push,sn=Math.min,hn=!c((function(){return!RegExp(4294967295,"y")}));Xe("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r,i,o=String(b(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===t)return[o];if(!w(r=t)||(void 0!==(i=r[cn])?!i:"RegExp"!=d(r)))return e.call(o,t,a);for(var u,c,f,l=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,s+"g");(u=Be.call(v,o))&&!((c=v.lastIndex)>h&&(l.push(o.slice(h,u.index)),u.length>1&&u.index<o.length&&ln.apply(l,u.slice(1)),f=u[0].length,h=c,l.length>=a));)v.lastIndex===u.index&&v.lastIndex++;return h===o.length?!f&&v.test("")||l.push(""):l.push(o.slice(h)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=b(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var a=L(t),u=String(this),c=function(t,e){var n,r=L(t).constructor;return void 0===r||null==(n=L(r)[fn])?e:At(n)}(a,RegExp),f=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(hn?"y":"g"),s=new c(hn?a:"^(?:"+a.source+")",l),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===u.length)return null===en(s,u)?[u]:[];for(var v=0,p=0,d=[];p<u.length;){s.lastIndex=hn?p:0;var g,y=en(s,hn?u:u.slice(p));if(null===y||(g=sn(ut(s.lastIndex+(hn?0:p)),u.length))===v)p=tn(u,p,f);else{if(d.push(u.slice(v,p)),d.length===h)return d;for(var b=1;b<=y.length-1;b++)if(d.push(y[b]),d.length===h)return d;p=v=g}}return d.push(u.slice(v)),d}]}),!hn);var vn=function(t,e,n){for(var r in e)Z(t,r,e[r],n);return t},pn=!c((function(){return Object.isExtensible(Object.preventExtensions({}))})),dn=n((function(t){var e=R.f,n=U("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!w(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!S(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!S(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return pn&&a.REQUIRED&&i(t)&&!S(t,n)&&o(t),t}};$[n]=!0})),gn=(dn.REQUIRED,dn.fastKey,dn.getWeakData,dn.onFreeze,Ct("iterator")),yn=Array.prototype,bn=Ct("iterator"),mn=function(t,e,n,r){try{return r?e(L(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&L(i.call(t)),e}},wn=n((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,r,i,o){var a,u,c,f,l,s,h,v,p=Lt(n,r,i?2:1);if(o)a=t;else{if("function"!=typeof(u=function(t){if(null!=t)return t[bn]||t["@@iterator"]||ie[Me(t)]}(t)))throw TypeError("Target is not iterable");if(void 0!==(v=u)&&(ie.Array===v||yn[gn]===v)){for(c=0,f=ut(t.length);f>c;c++)if((l=i?p(L(h=t[c])[0],h[1]):p(t[c]))&&l instanceof e)return l;return new e(!1)}a=u.call(t)}for(s=a.next;!(h=s.call(a)).done;)if("object"==typeof(l=mn(a,p,h.value,i))&&l&&l instanceof e)return l;return new e(!1)}).stop=function(t){return new e(!0,t)}})),xn=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},En=Ct("iterator"),Sn=!1;try{var kn=0,On={next:function(){return{done:!!kn++}},return:function(){Sn=!0}};On[En]=function(){return this},Array.from(On,(function(){throw 2}))}catch(t){}var jn=function(t,e,n,r,i){var o=u[t],a=o&&o.prototype,f=o,l=r?"set":"add",s={},h=function(t){var e=a[t];Z(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!w(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!w(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!w(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(jt(t,"function"!=typeof o||!(i||a.forEach&&!c((function(){(new o).entries().next()})))))f=n.getConstructor(e,t,r,l),dn.REQUIRED=!0;else if(jt(t,!0)){var v=new f,p=v[l](i?{}:-0,1)!=v,d=c((function(){v.has(1)})),g=function(t,e){if(!e&&!Sn)return!1;var n=!1;try{var r={};r[En]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}((function(t){new o(t)})),y=!i&&c((function(){for(var t=new o,e=5;e--;)t[l](e,e);return!t.has(-0)}));g||((f=e((function(e,n){xn(e,f,t);var i=function(t,e,n){var r,i;return ye&&"function"==typeof(r=e.constructor)&&r!==n&&w(i=r.prototype)&&i!==n.prototype&&ye(t,i),t}(new o,e,f);return null!=n&&wn(n,i[l],i,r),i}))).prototype=a,a.constructor=f),(d||y)&&(h("delete"),h("has"),r&&h("get")),(y||p)&&h(l),i&&a.clear&&delete a.clear}return s[t]=f,Tt({global:!0,forced:f!=o},s),pe(f,t),i||n.setStrong(f,t,r),f},In=dn.getWeakData,Tn=X.set,An=X.getterFor,Ln=Gt.find,Mn=Gt.findIndex,Rn=0,Pn=function(t){return t.frozen||(t.frozen=new _n)},_n=function(){this.entries=[]},Dn=function(t,e){return Ln(t.entries,(function(t){return t[0]===e}))};_n.prototype={get:function(t){var e=Dn(this,t);if(e)return e[1]},has:function(t){return!!Dn(this,t)},set:function(t,e){var n=Dn(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Mn(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}};var Cn={getConstructor:function(t,e,n,r){var i=t((function(t,o){xn(t,i,e),Tn(t,{type:e,id:Rn++,frozen:void 0}),null!=o&&wn(o,t[r],t,n)})),o=An(e),a=function(t,e,n){var r=o(t),i=In(L(e),!0);return!0===i?Pn(r).set(e,n):i[r.id]=n,t};return vn(i.prototype,{delete:function(t){var e=o(this);if(!w(t))return!1;var n=In(t);return!0===n?Pn(e).delete(t):n&&S(n,e.id)&&delete n[e.id]},has:function(t){var e=o(this);if(!w(t))return!1;var n=In(t);return!0===n?Pn(e).has(t):n&&S(n,e.id)}}),vn(i.prototype,n?{get:function(t){var e=o(this);if(w(t)){var n=In(t);return!0===n?Pn(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}},Nn=(n((function(t){var e,n=X.enforce,r=!u.ActiveXObject&&"ActiveXObject"in u,i=Object.isExtensible,o=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},a=t.exports=jn("WeakMap",o,Cn,!0,!0);if(F&&r){e=Cn.getConstructor(o,"WeakMap",!0),dn.REQUIRED=!0;var c=a.prototype,f=c.delete,l=c.has,s=c.get,h=c.set;vn(c,{delete:function(t){if(w(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),f.call(this,t)||r.frozen.delete(t)}return f.call(this,t)},has:function(t){if(w(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),l.call(this,t)||r.frozen.has(t)}return l.call(this,t)},get:function(t){if(w(t)&&!i(t)){var r=n(this);return r.frozen||(r.frozen=new e),l.call(this,t)?s.call(this,t):r.frozen.get(t)}return s.call(this,t)},set:function(t,r){if(w(t)&&!i(t)){var o=n(this);o.frozen||(o.frozen=new e),l.call(this,t)?h.call(this,t,r):o.frozen.set(t,r)}else h.call(this,t,r);return this}})}})),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0});for(var zn in Nn){var Fn=u[zn],Wn=Fn&&Fn.prototype;if(Wn&&Wn.forEach!==Vt)try{P(Wn,"forEach",Vt)}catch(t){Wn.forEach=Vt}}var Gn=Ct("iterator"),Un=Ct("toStringTag"),Bn=Oe.values;for(var Vn in Nn){var $n=u[Vn],qn=$n&&$n.prototype;if(qn){if(qn[Gn]!==Bn)try{P(qn,Gn,Bn)}catch(t){qn[Gn]=Bn}if(qn[Un]||P(qn,Un,Vn),Nn[Vn])for(var Hn in Oe)if(qn[Hn]!==Oe[Hn])try{P(qn,Hn,Oe[Hn])}catch(t){qn[Hn]=Oe[Hn]}}}function Qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(t,e,n){return e&&Kn(t.prototype,e),n&&Kn(t,n),t}function Jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xn(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}function Zn(t,e,n){var r=e.get(t);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(t,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function tr(t,e,n){if(t!==e)throw new TypeError("Private static access of wrong provenance");return n.get?n.get.call(t):n.value}function er(t,e,n,r){if(t!==e)throw new TypeError("Private static access of wrong provenance");if(n.set)n.set.call(t,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var nr=Ct("species"),rr=function(t){return!c((function(){var e=[];return(e.constructor={})[nr]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},ir=Gt.filter;Tt({target:"Array",proto:!0,forced:!rr("filter")},{filter:function(t){return ir(this,t,arguments.length>1?arguments[1]:void 0)}});var or=Gt.findIndex,ar=!0;"findIndex"in[]&&Array(1).findIndex((function(){ar=!1})),Tt({target:"Array",proto:!0,forced:ar},{findIndex:function(t){return or(this,t,arguments.length>1?arguments[1]:void 0)}}),re("findIndex");var ur=function(t,e,n){var r=x(e);r in t?R.f(t,r,v(0,n)):t[r]=n},cr=Math.max,fr=Math.min;Tt({target:"Array",proto:!0,forced:!rr("splice")},{splice:function(t,e){var n,r,i,o,a,u,c=Mt(this),f=ut(c.length),l=lt(t,f),s=arguments.length;if(0===s?n=r=0:1===s?(n=0,r=f-l):(n=s-2,r=fr(cr(ot(e),0),f-l)),f+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=zt(c,r),o=0;o<r;o++)(a=l+o)in c&&ur(i,o,c[a]);if(i.length=r,n<r){for(o=l;o<f-r;o++)u=o+n,(a=o+r)in c?c[u]=c[a]:delete c[u];for(o=f;o>f-r+n;o--)delete c[o-1]}else if(n>r)for(o=f-r;o>l;o--)u=o+n-1,(a=o+r-1)in c?c[u]=c[a]:delete c[u];for(o=0;o<n;o++)c[o+l]=arguments[o+2];return c.length=f-r+n,i}});var lr=R.f,sr=Function.prototype,hr=sr.toString,vr=/^\s*function ([^ (]*)/;!f||"name"in sr||lr(sr,"name",{configurable:!0,get:function(){try{return hr.call(this).match(vr)[1]}catch(t){return""}}});var pr=function(){function t(e,n,r){Qn(this,t),dr.set(this,{writable:!0,value:void 0}),gr.set(this,{writable:!0,value:void 0}),yr.set(this,{writable:!0,value:void 0}),Zn(this,dr,n),Zn(this,yr,r),Zn(this,gr,e)}return Yn(t,[{key:"name",get:function(){return Xn(this,dr)}},{key:"handler",get:function(){return Xn(this,yr)}},{key:"target",get:function(){return Xn(this,gr)}}]),t}(),dr=new WeakMap,gr=new WeakMap,yr=new WeakMap,br=function(){function t(){if(Qn(this,t),mr.set(this,{writable:!0,value:void 0}),tr(t,t,wr))throw new Error("Use NotificationController.getInstance()");er(t,t,wr,this),Zn(this,mr,[])}return Yn(t,[{key:"notify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Xn(this,mr),r=n.filter((function(e){return e.name===t}));r.forEach((function(n){e.notification=t,n.handler(e)}))}},{key:"addListener",value:function(t,e,n){var r=new pr(t,e,n.bind(t));Xn(this,mr).push(r)}},{key:"removeListener",value:function(t,e){var n=Xn(this,mr),r=n.findIndex((function(n){return n.name===t&&n.target===e}));Zn(this,mr,n.splice(r,1))}},{key:"removeAllListenersFor",value:function(t){var e=Xn(this,mr);Zn(this,mr,e.filter((function(e){return e.target.name!==t.name})))}},{key:"listeners",get:function(){return Xn(this,mr)}}],[{key:"getInstance",value:function(){return tr(t,t,wr)?tr(t,t,wr):new t}}]),t}(),mr=new WeakMap,wr={writable:!0,value:void 0},xr="DOMNodeRemovedFromDocument",Er=function(){function t(){if(Qn(this,t),Jn(this,"components",void 0),Jn(this,"componentsMap",void 0),Sr.set(this,{writable:!0,value:void 0}),tr(t,t,kr))throw new Error("Use MotherBoard.getInstance()");er(t,t,kr,this),this.components=[],this.init()}return Yn(t,[{key:"init",value:function(){var t=this;window.onload=function(){t.onload()},window.onbeforeunload=function(){t.destroy()},t.bind()}},{key:"bind",value:function(){this.build(window.document);var t=document.querySelector("html");t&&(t.classList.remove("no-js"),t.classList.add("js"))}},{key:"onload",value:function(){this.components.forEach((function(t){t.onload()}))}},{key:"build",value:function(t){var e=t.querySelectorAll("[data-component]");if(e.length>0){var n=this;Zn(this,Sr,new MutationObserver((function(t){console.log("mutations",t),t.forEach((function(t){console.log("mutation",t)}))}))),Xn(this,Sr).observe(t,{attributes:!0,childList:!0,characterData:!0}),e.forEach((function(t){t.dataset.component.split(" ").join("").split(",").forEach((function(e){var r=n.getComponentByName(n.componentsMap,e);if(r){var i=new r;n.registerNotification({name:e,notifications:t.dataset.notifications,classRef:i}),i.bind(t),n.components.push(i),i.addEventListener(xr,(function(){i.destroy()}),!1)}}))}))}}},{key:"registerNotification",value:function(t){if(t.notifications){var e=t.notifications.replace(" ","").split(","),n=t.classRef;e.forEach((function(t){br.getInstance().addListener(n,t,n.handleNotifications)}))}}},{key:"getComponentByName",value:function(t,e){return t[e]}},{key:"destroy",value:function(){for(Xn(this,Sr).disconnect();this.components.length>0;){var t=this.components[0];t&&t.el.remove(),this.components.shift()}}},{key:"notifier",get:function(){return br.getInstance()}}],[{key:"getInstance",value:function(){return tr(t,t,kr)?tr(t,t,kr):new t}}]),t}(),Sr=new WeakMap,kr={writable:!0,value:void 0},Or=function(){function t(e,n){Qn(this,t),jr.set(this,{writable:!0,value:void 0}),Ir.set(this,{writable:!0,value:void 0}),Zn(this,jr,e),Zn(this,Ir,n)}return Yn(t,[{key:"name",get:function(){return Xn(this,jr)}},{key:"handler",get:function(){return Xn(this,Ir)}}]),t}(),jr=new WeakMap,Ir=new WeakMap,Tr=function(){function t(){Qn(this,t),Ar.set(this,{writable:!0,value:void 0}),Lr.set(this,{writable:!0,value:void 0}),Mr.set(this,{writable:!0,value:void 0})}return Yn(t,[{key:"bind",value:function(t){Zn(this,Ar,t),this.name=t.dataset.component,Zn(this,Lr,[]),Zn(this,Mr,Er.getInstance())}},{key:"onload",value:function(){}},{key:"handleNotifications",value:function(t){}},{key:"addEventListener",value:function(t,e){Xn(this,Lr).push(new Or(t,e)),this.el.addEventListener(t,e,!1)}},{key:"removeEventListener",value:function(t,e){var n=Xn(this,Lr).findIndex((function(n){return n.name===t&&n.handler===e}));Xn(this,Lr).splice(n,1),this.el.removeEventListener(t,e)}},{key:"addListener",value:function(t){Xn(this,Mr).notifier.addListener(this,t,this.handleNotifications)}},{key:"removeListener",value:function(t){Xn(this,Mr).notifier.removeListener(t,this)}},{key:"notify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xn(this,Mr).notifier.notify(t,e)}},{key:"render",value:function(t){if(this.el.children)for(;this.el.children.length>0;)this.el.children[0].remove();this.el.innerHTML=this.getTemplate(t),Xn(this,Mr).build(this.el)}},{key:"getTemplate",value:function(t){return""}},{key:"destroy",value:function(){for(;Xn(this,Lr).length>0;)this.removeEventListener(Xn(this,Lr)[0].name,Xn(this,Lr)[0].handler);Xn(this,Mr).notifier.removeAllListenersFor(this)}},{key:"el",get:function(){return Xn(this,Ar)}},{key:"events",get:function(){return Xn(this,Lr)}}]),t}(),Ar=new WeakMap,Lr=new WeakMap,Mr=new WeakMap,Rr=Date.prototype,Pr=Rr.toString,_r=Rr.getTime;new Date(NaN)+""!="Invalid Date"&&Z(Rr,"toString",(function(){var t=_r.call(this);return t==t?Pr.call(this):"Invalid Date"}));var Dr=[].sort,Cr=[1,2,3],Nr=c((function(){Cr.sort(void 0)})),zr=c((function(){Cr.sort(null)})),Fr=Ut("sort");Tt({target:"Array",proto:!0,forced:Nr||!zr||Fr},{sort:function(t){return void 0===t?Dr.call(Mt(this)):Dr.call(Mt(this),At(t))}});var Wr=c((function(){$t(1)}));Tt({target:"Object",stat:!0,forced:Wr},{keys:function(t){return $t(Mt(t))}}),t.Component=Tr,t.MotherBoard=Er,t.Notification=pr,t.equal=function(t,e){var n=Object.keys(t).sort(),r=Object.keys(e).sort(),i={},o={};return n.forEach((function(e){i[e]=t[e]})),r.forEach((function(t){o[t]=e[t]})),JSON.stringify(i)===JSON.stringify(o)},t.shuffle=function(t){for(var e=t.length;e>0;){var n=Math.floor(Math.random()*e),r=t[--e];t[e]=t[n],t[n]=r}return t},t.throttle=function(t,e){var n=0;return function(){var r=(new Date).getTime();if(!(r-n<e))return n=r,t.apply(void 0,arguments)}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=main.umd.js.map
